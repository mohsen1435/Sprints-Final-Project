{
  "version": 4,
  "terraform_version": "1.9.3",
  "serial": 121,
  "lineage": "4753cfe5-1c37-b29b-d1da-df71cf01e6ce",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "terraform_remote_state",
      "name": "Stage-1",
      "provider": "provider[\"terraform.io/builtin/terraform\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "backend": "local",
            "config": {
              "value": {
                "path": "../Stage-1/terraform.tfstate"
              },
              "type": [
                "object",
                {
                  "path": "string"
                }
              ]
            },
            "defaults": null,
            "outputs": {
              "value": {
                "Cluster-EndPoint": "https://C5A7FB1011F8E6235AECA74DA5B7A7A9.gr7.eu-central-1.eks.amazonaws.com",
                "Cluster-Name": "Sprints-Eks",
                "Jenkins-IP": "3.70.220.39",
                "Node-Group-id": "Sprints-Eks:Workers-node-group",
                "cluster_ca_certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURCVENDQWUyZ0F3SUJBZ0lJUDhVbXppemxiZDh3RFFZSktvWklodmNOQVFFTEJRQXdGVEVUTUJFR0ExVUUKQXhNS2EzVmlaWEp1WlhSbGN6QWVGdzB5TkRBNE1qQXhOalE0TkRCYUZ3MHpOREE0TVRneE5qVXpOREJhTUJVeApFekFSQmdOVkJBTVRDbXQxWW1WeWJtVjBaWE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLCkFvSUJBUURFU0FEN29HanRQbDlITWRBVTZUNDZRMEtWN2p5azBHclhJT2p3MTc5YSttOWRoYTNGU3lPTXlqTVAKc292SHhpbVN1ZGRKN3VuNWN6ZkNXRUl4Sm1EbVROODBveXNkRjBIS3ZlZ0dMZGhnRkNveWZydy91Y1FZaWtGcgo3cVg1UE5QaURidzQ1bHl6d0JnVUxhZVBYM1hlMjYxTERVZ0Yrb1Jhczlnam5iVkJrcU5uTFdGZi9iQmJrcGxRCjlYUlo0OFV4cUZZTEZrNVJxUjlDMjRJTDc0dTNHNXdkc1phdXpiOWpDTUQ0K1VZN0h3QlcxZW56dm9uRXVob2gKSThCN2FBQXBVWHlJdk10RlkwMENydEZtRFR6SHBsaUZJQ0c0ejFIL0l5VnN4QVNTRS9TNWhKOW51QVkyNDhPWQo0MEJicTZhNlZMb25zUFp2NUFrd1hWZ2tzVW56QWdNQkFBR2pXVEJYTUE0R0ExVWREd0VCL3dRRUF3SUNwREFQCkJnTlZIUk1CQWY4RUJUQURBUUgvTUIwR0ExVWREZ1FXQkJSUHBzZVN0MVlLamZPYkFYcTBQUnp0ZHdUeEp6QVYKQmdOVkhSRUVEakFNZ2dwcmRXSmxjbTVsZEdWek1BMEdDU3FHU0liM0RRRUJDd1VBQTRJQkFRQkdtU1B2ZmpnaApBYXZVUi91TjJaRHprOGl6OTdtKzgwWlVocFFkVkd2M2lTK2MxZ1VQYUxZekdheHNPaVdhSEJPMTl0VHFWU2FyClJFS2cwTHkzTEwrSkpQOHFJVEt3bTBXdXBNQ2taTnUvUkY0eGVMaWNGbEZTeXppSjdvTFBnTzZhanoyWmphUEQKM3ZuSWt5Q0JGTk56TGtweXZiRGZXT3hRSk1nelJWY01BQUVjRDh0U21kd1RLdmlzYVp3Mm9SL2pVNXdUUGJPdApONWtDMG9icWdkWTVUQ1BKODg4VnNrb1BIRGR2QTE1YlIwOFpwZU1kR1d1TVVlQWtHUHoxaGgyWUM4Uk5WZUZECmEzZTRCdHZqMXNrRC9FWXlxUzFkcUtQMW9ZZ1oyN1RMN05zbFZ5M2NQSjFKWlRtRWV2QnVucDRSVFB2K3pDa0IKQWtlYy9SUFZvMldNCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
              },
              "type": [
                "object",
                {
                  "Cluster-EndPoint": "string",
                  "Cluster-Name": "string",
                  "Jenkins-IP": "string",
                  "Node-Group-id": "string",
                  "cluster_ca_certificate": "string"
                }
              ]
            },
            "workspace": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.K8s",
      "mode": "data",
      "type": "aws_eks_cluster_auth",
      "name": "xxx",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "Sprints-Eks",
            "name": "Sprints-Eks",
            "token": "k8s-aws-v1.aHR0cHM6Ly9zdHMuYW1hem9uYXdzLmNvbS8_QWN0aW9uPUdldENhbGxlcklkZW50aXR5JlZlcnNpb249MjAxMS0wNi0xNSZYLUFtei1BbGdvcml0aG09QVdTNC1ITUFDLVNIQTI1NiZYLUFtei1DcmVkZW50aWFsPUFLSUFSNzJQSEVGRTNIS0xNQzI0JTJGMjAyNDA4MjAlMkZ1cy1lYXN0LTElMkZzdHMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI0MDgyMFQxNzEzMjRaJlgtQW16LUV4cGlyZXM9MCZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QlM0J4LWs4cy1hd3MtaWQmWC1BbXotU2lnbmF0dXJlPTY4ZTIyN2Y0ODE0NmY2ZGJkMmY4YWEyMTEzYTE2YWE5ZmI4OTMzNDI3ZmViNTIzMGE3ZWJhMDlmMjJkY2RkMjU"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "token"
              }
            ]
          ]
        }
      ]
    },
    {
      "module": "module.K8s",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "build",
      "provider": "module.K8s.provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "build",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "build",
                "resource_version": "1237",
                "uid": "d3b0f811-1f5e-4333-9334-545f87c4d163"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.terraform_remote_state.Stage-1",
            "module.K8s.data.aws_eks_cluster_auth.xxx"
          ]
        }
      ]
    },
    {
      "module": "module.K8s",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "dev",
      "provider": "module.K8s.provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dev",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "dev",
                "resource_version": "1239",
                "uid": "ddb45c7c-38f4-4b53-8eed-e2dad4045643"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.terraform_remote_state.Stage-1",
            "module.K8s.data.aws_eks_cluster_auth.xxx"
          ]
        }
      ]
    },
    {
      "module": "module.K8s",
      "mode": "managed",
      "type": "kubernetes_namespace",
      "name": "test",
      "provider": "module.K8s.provider[\"registry.terraform.io/hashicorp/kubernetes\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "test",
            "metadata": [
              {
                "annotations": {},
                "generate_name": "",
                "generation": 0,
                "labels": {},
                "name": "test",
                "resource_version": "1238",
                "uid": "eebbe22c-4fcd-436c-a98d-3f4eb91db666"
              }
            ],
            "timeouts": null,
            "wait_for_default_service_account": false
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "data.terraform_remote_state.Stage-1",
            "module.K8s.data.aws_eks_cluster_auth.xxx"
          ]
        }
      ]
    },
    {
      "module": "module.cloudWatch",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "EC2-Logs",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:logs:eu-central-1:137068224841:log-group:Ec2-log-group",
            "id": "Ec2-log-group",
            "kms_key_id": "",
            "name": "Ec2-log-group",
            "name_prefix": "",
            "retention_in_days": 7,
            "skip_destroy": false,
            "tags": {},
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.cloudWatch",
      "mode": "managed",
      "type": "aws_cloudwatch_metric_alarm",
      "name": "cpu_high",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "actions_enabled": true,
            "alarm_actions": [
              "arn:aws:sns:eu-central-1:137068224841:alerts-topic"
            ],
            "alarm_description": "This metric monitors ec2 cpu utilization",
            "alarm_name": "cpu_high",
            "arn": "arn:aws:cloudwatch:eu-central-1:137068224841:alarm:cpu_high",
            "comparison_operator": "GreaterThanOrEqualToThreshold",
            "datapoints_to_alarm": 0,
            "dimensions": {
              "ClusterName": "Sprints-Eks",
              "NodegroupName": "Sprints-Eks:Workers-node-group"
            },
            "evaluate_low_sample_count_percentiles": "",
            "evaluation_periods": 2,
            "extended_statistic": "",
            "id": "cpu_high",
            "insufficient_data_actions": [],
            "metric_name": "CPUUtilization",
            "metric_query": [],
            "namespace": "AWS/EC2",
            "ok_actions": [],
            "period": 120,
            "statistic": "Average",
            "tags": {},
            "tags_all": {},
            "threshold": 80,
            "threshold_metric_id": "",
            "treat_missing_data": "missing",
            "unit": ""
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.terraform_remote_state.Stage-1",
            "module.cloudWatch.aws_sns_topic.alerts"
          ]
        }
      ]
    },
    {
      "module": "module.cloudWatch",
      "mode": "managed",
      "type": "aws_sns_topic",
      "name": "alerts",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "application_failure_feedback_role_arn": "",
            "application_success_feedback_role_arn": "",
            "application_success_feedback_sample_rate": 0,
            "arn": "arn:aws:sns:eu-central-1:137068224841:alerts-topic",
            "content_based_deduplication": false,
            "delivery_policy": "",
            "display_name": "",
            "fifo_topic": false,
            "firehose_failure_feedback_role_arn": "",
            "firehose_success_feedback_role_arn": "",
            "firehose_success_feedback_sample_rate": 0,
            "http_failure_feedback_role_arn": "",
            "http_success_feedback_role_arn": "",
            "http_success_feedback_sample_rate": 0,
            "id": "arn:aws:sns:eu-central-1:137068224841:alerts-topic",
            "kms_master_key_id": "",
            "lambda_failure_feedback_role_arn": "",
            "lambda_success_feedback_role_arn": "",
            "lambda_success_feedback_sample_rate": 0,
            "name": "alerts-topic",
            "name_prefix": "",
            "owner": "137068224841",
            "policy": "{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"137068224841\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:eu-central-1:137068224841:alerts-topic\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}",
            "signature_version": 0,
            "sqs_failure_feedback_role_arn": "",
            "sqs_success_feedback_role_arn": "",
            "sqs_success_feedback_sample_rate": 0,
            "tags": {},
            "tags_all": {},
            "tracing_config": ""
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ],
  "check_results": null
}
